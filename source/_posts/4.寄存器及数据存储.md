---
title: 4.寄存器与数据存储
thumbnail: https://blog.zhangruipeng.me/hexo-theme-icarus/gallery/covers/vector_landscape_1.svg
toc: true
original: https://www.cnblogs.com/liuxianan/p/chrome-plugin-develop.html#api%E6%80%BB%E7%BB%93
categories:
- 汇编语言
tags:
- 汇编指令
- 汇编语言
---

### CPU的组成
[![B5i1C4.png](https://s1.ax1x.com/2020/11/07/B5i1C4.png)](https://imgchr.com/i/B5i1C4)
CPU中由运算器进行信息处理，这个运算器主要指的是 `ALU` 算术逻辑单元

CPU通过 `BUS` 总线，来和内存进行交互

CPU工作时由寄存器进行信息存储，图中，橘黄色以及青色就是我们这里讲的寄存器。寄存器就是计算机内部用来存储数据的单元。

由控制器进行协调各种器件进行工作，图中，亮黄色与绿色就是这里讲的控制器。

由内部总线实现CPU内，各个器件之间的联系。

### 寄存器

8086CPU有14个寄存器，分别是：
- 通用寄存器：AX、BX、CX、DX
- 变址寄存器：SI、DI
- 指令指针寄存器：IP
- 指针寄存器：SP、BP
- 段寄存器：CS、SS、DS、ES
- 标志寄存器: PSW

它们的共性：
8086CPU所有的寄存器都是 `16` 位的，也就是可以存放两个字节的数据。

#### 通用寄存器-以AX为例
一个16位的寄存器可存储一个16位的数据，****所以它能够存储的最大值就是2的16次方****-1
[![B5FSz9.png](https://s1.ax1x.com/2020/11/07/B5FSz9.png)](https://imgchr.com/i/B5FSz9)

比如说: 我们在AX中存储 `18D` 的数据，D代表十进制的数，也就是 `10010B`
[![B5FBwV.png](https://s1.ax1x.com/2020/11/07/B5FBwV.png)](https://imgchr.com/i/B5FBwV)


#### 寄存器兼容性问题
刚才举例使用了 8086CPU ，它所使用的寄存器是16位的，但是8086上一代CPU中的寄存器都是8位的，如何保证程序的兼容性是一个问题，总不能说我以前写的程序，你更新了一下系统我全部白干了对吧。

现代计算机的解决方案：
[![B5klc9.png](https://s1.ax1x.com/2020/11/07/B5klc9.png)](https://imgchr.com/i/B5klc9)
通用寄存器均可以分为两个独立的8位寄存器使用，也就是1个AX(16位寄存器)内部可以分为AH和AL，两个8位的寄存器，其中AH代表了高8位，AL代表了低8位，当读写AH时就代表了向AX的高八位进行读写，如果读写AL时就代表向AX的第八位进行读写。

> 注意：这里讲的可以分为两个独立的8位寄存器使用只是我们把一个16位的高8位和低8位**看成**两个8位的寄存器，而不是16寄存器由两个8位寄存器组成！

比如说：

[![B5AkCD.png](https://s1.ax1x.com/2020/11/07/B5AkCD.png)](https://imgchr.com/i/B5AkCD)

图中，向AX中存入了一个 `20000D` 十进制数，在AX中看到就是那么长的二进制数，但在AH中也就是AX的高八位中就是78D，在AL也就是AX的低八位看到就是32。这就相当于我有一个车库，有16个车位，我就可以它分为两个各有8个车位的车库租出去，当然也可以分为有4个车位的车库租出去，但是计算机中都是一个字节的存储，没有那存半个字节的。

所以通用寄存器中：
- AX可以分为 AH 和 AL
- BX可以分为 BH 和 BL 
- CX可以分为 CH 和 CL 
- DX可以分为 DH 和 DL 

> 发现了吧，都是什么H，什么L结尾的，H其实代表的是 high(高) L就是 low(低)

#### "字"在寄存器中的存储
8086是16位的CPU，那么我们就可以说8086的**字长(word size)**是16位，所以说它是多少位的CPU，那么其实讲的就是它的字长是多少位的。

一个**字**(word)可以存在一个16位寄存器中，这个字的高位字节存在这个寄存器的高8位，这个字的地位字节存在这个寄存器的低8位寄存器